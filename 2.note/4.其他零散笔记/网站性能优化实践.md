# 网站性能优化实践

## 使用CDN（腾讯云）

### CDN的基础解释

- 一个解释是CDN叫做内容分发系统，我估计包括两个方面
  - 缩短路由转换距离，让用户用更少的路由挑战到目标网址（Linux下使用命令$ traceroute targetIp 或者在Windows下使用批处理 > tracert targetIp，都可以定位用户与目标计算机之间经过的所有路由器）
  - 分发内容，将内容以更快的速度（好像是不用HTTP协议）

---

- 一个性能瓶颈就是 打包之后的.html文件，没有md5戳，缓存命中强缓存，于是就读取本地的了，造成没有更新的效果

### 出现BUG1解决：https证书报错

应该是CDN的地址和https证书申请的时候地址不一致导致的，这个可以使用腾讯云的一些设置搞定

### 出现BUG2解决：报514错误

- 思考原因：每次打包之后，JS文件名称都会改变，但是 .html 文件名称不会改变，这就导致了 CDN 会用原来的 .html 文件，里面的引用也是原来的JS名称，这就导致了 访问不到
- 思考解决方案1：给 .html 文件加上md5戳（用webpack也行，自己写node处理也行）
- 思考解决方案2：CDN全局刷新

---


