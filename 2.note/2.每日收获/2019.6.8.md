# 2019.6.8

今天主要干了两件事情：

### 1.梳理了VuePress的规则，知道怎么配置多个侧边栏

```javascript
module.exports = {
  // base: '/documents/',
  title: 'Notes',
  description: '知识速查（了不起的个人工具库',
  head: [
    ['link', { rel: 'icon', href: `/favicon.ico` }]
  ],
  themeConfig: {
    repo: 'https://github.com/zhukunpenglinyutong/notes',
    //导航
    nav: [
      { text: '速查', link: '/1.quickcheck/' },
      { text: '笔记', link: '/2.note/' },
      // { text: '常用网站', link: '/webtool/' }
    ],
    // 侧边栏
    sidebar: {
      '/1.quickcheck': [
        {
          title: '1.前端',
          children: [
            '/1.quickcheck/1.前端/1.HTML速查.md',
            '/1.quickcheck/1.前端/2.CSS速查.md',
            '/1.quickcheck/1.前端/3.JS方法速查.md'
          ]
        },
        {
          title: '2.后端',
          children: [
            '/1.quickcheck/2.后端/1.Node速查.md',
            '/1.quickcheck/2.后端/2.MySQL速查.md',
            '/1.quickcheck/2.后端/3.Express速查.md',
            '/1.quickcheck/2.后端/4.MongoDB速查.md'
          ]
        },
        {
          title: '3.运维',
          children: [
            '/1.quickcheck/3.运维/1.Centos下安装各种软件.md',
            '/1.quickcheck/3.运维/2.Nginx速查.md',
            '/1.quickcheck/3.运维/3.pm2常用命令.md',
            '/1.quickcheck/3.运维/4.Docker速查.md'
          ]
        },
        {
          title: '4.其他',
          children: [
            '/1.quickcheck/4.其他/1.正则表达式速查.md',
            '/1.quickcheck/4.其他/2.GitHub平台.md',
            '/1.quickcheck/4.其他/3.http协议速查.md',
            '/1.quickcheck/4.其他/4.微信小程序知识速查.md',
            '/1.quickcheck/4.其他/5.前端安全速查.md',
            '/1.quickcheck/4.其他/6.Electron速查.md',
            '/1.quickcheck/4.其他/7.VuePress速查.md',
          ]
        },
      ],
      '/2.note': [
        {
          title: '0.项目方向指南',
          children: [
            '/2.note/0.项目方向指南/v0.1方向指南',
            '/2.note/0.项目方向指南/v0.2方向指南'
          ]
        },
        {
          title: '1.每日规划',
          children: [
            '/2.note/1.每日规划/2019.6.4.md',
            '/2.note/1.每日规划/2019.6.5',
            '/2.note/1.每日规划/2019.6.7',
            '/2.note/1.每日规划/2019.6.8',
          ]
        },
        {
          title: '2.每日收获',
          children: [
            '/2.note/2.每日收获/2019.6.3',
            '/2.note/2.每日收获/2019.6.4',
            '/2.note/2.每日收获/2019.6.5'
          ]
        },
        {
          title: '3.面试总结',
          children: [
            '/2.note/3.面试总结/1.公司'
          ]
        },
        {
          title: '4.Typescript',
          children: [
            '/2.note/4.Typescript/1.概述'
          ]
        }
      ]
    }
  },
  serviceWorker: true,
}
```


### 2.写了Node程序，解放了自己大部分的生产力（node程序还可以进行优化）


```javascript
var fs = require("fs");
var path = require('path')

// ① ：将 record.md 内容复制到 1.quickcheck 和 2.note下，并且名字都叫做 README.md

// 异步读取
fs.readFile('record.md', function (err, data) {
  
  if (err) {
      return console.error(err);
  }
  // console.log("异步读取: " + data.toString());

  // 异步写入
  fs.writeFile('./docs/1.quickcheck/README.md', data,  function(err) {
    if (err) {
        return console.error(err);
    }
    console.log("2.quickcheck README.md 数据写入成功！");
  });

  fs.writeFile('./docs/2.note/README.md', data,  function(err) {
    if (err) {
        return console.error(err);
    }
    console.log("3.note README.md 数据写入成功！");
  });

});


// ② 遍历 1.quickcheck 和 2.note 文件夹，生成路径导航

// 读取目录,并根据此生成规则写入 config.js中
let strOne = ''
let one = fs.readdirSync('./1.quickcheck')
one.forEach(item => {
  if (!/.md/.test(item) && item !== '.DS_Store') {

    let files2 = []
    let files2Str = ''
    fs.readdirSync(path.join('./1.quickcheck', item)).forEach( item1 => {
      files2.push(`${path.join(path.join('./1.quickcheck', item), item1)}`)
    })

    files2.forEach( item2 => {
      files2Str += `
      '${item2}',`
    })

    strOne += `
      {
        title: '${item}',
        children: [${files2Str}]
      },
    `
  }
})

let strTwo = ''
let two = fs.readdirSync('./2.note')
two.forEach(item => {
  if (!/.md/.test(item) && item !== '.DS_Store') {

    let files2 = []
    let files2Str = ''
    fs.readdirSync(path.join('./2.note', item)).forEach( item1 => {
      files2.push(`${path.join(path.join('./2.note', item), item1)}`)
    })

    files2.forEach( item2 => {
      files2Str += `
      '${item2}',`
    })

    strTwo += `
      {
        title: '${item}',
        children: [${files2Str}]
      },
    `
  }
})

// 写入
let configStr = `
module.exports = {
  title: 'Notes',
  description: '知识速查（了不起的个人工具库）',
  head: [
    ['link', { rel: 'icon', href: '/favicon.ico' }]
  ],
  themeConfig: {
    repo: 'https://github.com/zhukunpenglinyutong/notes',
    //导航
    nav: [
      { text: '速查', link: '/1.quickcheck/' },
      { text: '笔记', link: '/2.note/' }
    ],
    // 侧边栏
    sidebar: {
      '/1.quickcheck': [
        ${strOne}
      ],
      '/2.note': [
        ${strTwo}
      ]
    }
  },
  serviceWorker: true,
}
`

fs.writeFile('./docs/.vuepress/config.js', configStr,  function(err) {
  if (err) {
      return console.error(err);
  }
  console.log("1.configStr 数据写入成功！");
});
```